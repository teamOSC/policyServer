{% extends "base.html" %}

        {% block head %}
        <style>
      #map-canvas {
        width: 500px;
        height: 400px;
      }
    </style>
    <!--script src="https://maps.googleapis.com/maps/api/js"></script-->
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true"></script>

        <script>
var stockholm = new google.maps.LatLng(28.6100, 77.2300);
var parliament = new google.maps.LatLng(28.6100, 77.2300);
var marker;
var map;

function initialize() {
  var mapOptions = {
    zoom: 13,
    center: stockholm
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
          mapOptions);

  marker = new google.maps.Marker({
    map:map,
    animation: google.maps.Animation.DROP,
    position: parliament
  });
  google.maps.event.addListener(marker, 'click', toggleBounce);
}

function toggleBounce() {

  if (marker.getAnimation() != null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>

        {% endblock %}


        {% block content %}
        {% if query==0 %}
        <form action="/analysis" method="get">
            <select name="state">
            {% for i in states %}

            <option value="{{ i  }}">{{ i }}</option>

            {% endfor %}
            </select>
            <button type="submit"  value="submit" >Submit</button>
        {% else %}
            <p>You selected the state : {{ state }}</p>
            <p>The data for this state is as follows :</p>
        {% endif %}


        </form>
        <br>
        <div id="map-canvas"></div>

        {% endblock %}